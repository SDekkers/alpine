# Maintainer: Peter Kokot <peterkokot@gmail.com>

pkgname=libxlsxwriter
pkgver=0.8.3
pkgrel=0
pkgdesc="A C library for creating Excel XLSX files"
url="https://libxlsxwriter.github.io"
arch="all"
license="BSD-2-Clause-FreeBSD"
depends="zlib"
makedepends="file zlib-dev"
source="$pkgname-$pkgver.tar.gz::https://github.com/jmcnamara/$pkgname/archive/RELEASE_$pkgver.tar.gz"
subpackages="$pkgname-dev"
builddir="$srcdir"/$pkgname-RELEASE_$pkgver
options="!check"

build() {
  local jobs=$(($(nproc)+1))

  cd "$builddir"

  make -j$jobs
}

package() {
  cd "$builddir"
  make INSTALL_DIR="$pkgdir/usr" install
}
sha512sums="7f2ef6f4fd80980aac804ed7223023a765f10c5e0ed80dd03745682872fff68afaf7ce468f52d5a5992ceb4da76f0900f28b32c5416f687f6187da780b66ee10  libxlsxwriter-0.8.3.tar.gz"
